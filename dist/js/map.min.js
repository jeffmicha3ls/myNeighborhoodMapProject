function initMap(a){function b(){c(this,infoWindow),map.setZoom(15),map.setCenter(this.position)}function c(a,b){var c="https://api.foursquare.com/v2/venues/"+a.id+"?client_id=Z52MDI2AQMQ41PZA43IJVWCUK3M33JHEKGCSBGUYYI5DUIKZ&client_secret=5E5ROB5B3PPW4MRPCQDQ4TWML20RND4IETUOFIYZOSCW3CL4&v=20170801";$.ajax({url:c,dataType:"json",data:{async:!0},success:function(c){b.marker!=a&&(b.marker=a,b.setContent("<div><b>"+a.title+"</b></div><br>"+c.response.venue.location.formattedAddress+"<br>"+c.response.venue.contact.formattedPhone),b.addListener("closeclick",function(){b.marker=null}),b.open(map,a))}}).fail(function(a){alert("There was an error with the Foursquare API. Please refresh.")})}function d(){for(var a=new google.maps.LatLngBounds,b=0;b<markers.length;b++)markers[b].setMap(map),a.extend(markers[b].position);map.fitBounds(a)}var e=[{elementType:"labels.text.fill",stylers:[{color:"#746855"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#c61609"}]},{featureType:"water",stylers:[{color:"#226ebf"}]}];infoWindow=new google.maps.InfoWindow;var f={lat:47.7861,lng:-122.3282};map=new google.maps.Map(document.getElementById("map"),{center:f,zoom:13,styles:e,mapTypeControl:!1});var g="img/cup_small.png";locations.forEach(function(a){function c(){a.marker.setAnimation(google.maps.Animation.BOUNCE),a.marker.setIcon(g),setTimeout(function(){a.marker.setAnimation(null)},1400)}function d(){a.marker.setIcon(g)}var e={lat:a.lat,lng:a.lng},f=a.title,h=a.foursquareID;a.marker=new google.maps.Marker({position:e,map:map,title:f,icon:g,id:h,animation:google.maps.Animation.DROP}),markers.push(a.marker),a.marker.addListener("click",b),a.marker.addListener("mouseover",c),a.marker.addListener("mouseout",d)}),document.getElementById("show-coffee").addEventListener("click",d),ko.applyBindings(new ViewModel)}var map,markers=[],infoWindow,mapError=function(){alert("Google Maps unable to load at this time.")};
